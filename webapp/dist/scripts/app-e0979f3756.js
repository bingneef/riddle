(function(){angular.module("App",["ngCookies","ngResource","ui.router","ui.bootstrap","oitozero.ngSweetAlert"])}).call(this),function(){angular.module("App").factory("Resources",["$resource",function(e){"ngInject";var t;return t="http://localhost:9393/api/v1",e(t,{format:"json"},{getCallHistory:{method:"GET",url:t+"/users"},verifyToken:{method:"POST",url:t+"/verify"}})}])}.call(this),function(){angular.module("App").directive("passwordInput",function(){return{scope:!1,templateUrl:"app/components/password-input/password-input.html",link:function(e,t,n){}}})}.call(this),function(){angular.module("App").directive("keypad",function(){return{scope:!1,templateUrl:"app/components/keypad/keypad.html",link:function(e,t,n){}}})}.call(this),function(){angular.module("App").controller("NumbersSlaveController",["$rootScope","$scope","$state","$window","$timeout","$interval","SocketService","SweetAlert",function(e,t,n,a,r,l,s,o){"ngInject";var i;t.status={},i="numbers",t.tiles=[{key:10,value:1,letter:"S"},{key:11,value:1,letter:"K"},{key:15,value:2,letter:"A"},{key:14,value:3,letter:"I"},{key:13,value:5,letter:"O"},{key:9,value:8,letter:"E"},{key:5,value:13,letter:"T"},{key:6,value:21,letter:"I"},{key:7,value:34,letter:"E"},{key:8,value:55,letter:"O"},{key:12,value:89,letter:"E"},{key:16,value:144,letter:"U"},{key:20,value:233,letter:"O"},{key:19,value:377,letter:"Y"},{key:18,value:610,letter:"U"},{key:17,value:987,letter:"V"},{key:1,value:1597,letter:"A"},{key:2,value:2584,letter:"L"},{key:3,value:4181,letter:"B"},{key:4,value:6765,letter:"R"},{key:24,value:10946,letter:"U"},{key:23,value:17711,letter:"I"},{key:22,value:28657,letter:"L"},{key:21,value:46368,letter:"A"}],e.$on("masterIncoming",function(e,t){if("level"===t.kind)return void n.go("slave."+t.value);if(t.level===i)switch(t.kind){case"status":return paintBackground(t.value)}}),t.tileClick=function(e){return e.selected=!e.selected,s.slaveTransmit({level:i,kind:"tileStatus",tiles:t.tiles})}}])}.call(this),function(){angular.module("App").controller("NumbersController",["$rootScope","$scope","$state","$window","$timeout","$interval","SocketService","SweetAlert",function(e,t,n,a,r,l,s,o){"ngInject";var i;t.status={},i="numbers",t.answerCode="iloveyou",t.correctTiles=!1,t.userInputCode="",t.$watch("userInputCode",function(){return t.correctTiles?0===t.userInputCode.length?t.codeStatus="":angular.equals(t.userInputCode.toLowerCase().replace(/ /g,""),t.answerCode)?t.codeStatus="success":t.codeStatus="error":void(t.codeStatus="")}),t.start=function(){var e;return e={kind:"level",value:i},s.masterTransmit(e)},t.start(),t.answerTotal={sum:4181,count:8},e.$on("slaveIncoming",function(e,a){if("level"===a.kind)return void n.go("slave."+a.value);if(a.level===i)switch(a.kind){case"tileStatus":return t.tiles=a.tiles,t.$apply()}}),t.$watch("tiles",function(){return t.tilesCount=0,t.tilesSum=0,angular.forEach(t.tiles,function(e){return e.selected?(t.tilesCount+=1,t.tilesSum+=e.value):void 0}),t.tilesSum===t.answerTotal.sum&&t.tilesCount===t.answerTotal.count?t.correctTiles=!0:t.correctTiles=!1})}])}.call(this),function(){angular.module("App").controller("NavigationController",["$scope","$state","$timeout",function(e,t,n){"ngInject";e.navigateTo=function(a){return t.go("app."+a),n(function(){return e.$apply()},0)}}])}.call(this),function(){angular.module("App").controller("HaikuSlaveController",["$rootScope","$scope","$state","$window","$timeout","SocketService",function(e,t,n,a,r,l){"ngInject";var s,o;s="haiku",t.status={},e.$on("masterIncoming",function(e,t){if("level"===t.kind)return void n.go("slave."+t.value);if(t.level===s)switch(t.kind){case"status":return o(t.status)}}),o=function(e){return t.status.color=e,r(function(){return t.status.color=void 0},1e3),t.$apply()}}])}.call(this),function(){angular.module("App").controller("HaikuController",["$rootScope","$scope","$timeout","SocketService",function(e,t,n,a){"ngInject";var r,l;r="haiku",t.start=function(){var e;return e={level:r,kind:"level",value:r},a.masterTransmit(e)},t.start(),t.answer="",t.checkAnswer=function(){return"lisanne"===t.answer.toLowerCase().trim()?(l("success"),n(function(){return e.nextLevel()},1e3)):l("error")},l=function(e){var t;return t={level:r,kind:"status",status:e},a.masterTransmit(t)},console.log("haiku")}])}.call(this),function(){angular.module("App").controller("CompassSlaveController",["$rootScope","$scope","$state","$window","$timeout","$interval","SocketService","SweetAlert",function(e,t,n,a,r,l,s,o){"ngInject";var i,u;t.status={},i="compass",t.arrowStyle=function(){return{transform:"rotate("+t.displayOrientation+"deg)"}},t.$watch("orientation",function(e,n){return Math.abs(e-n)>1||null==n?t.displayOrientation=e:void 0}),e.$on("masterIncoming",function(e,t){if("level"===t.kind)return void n.go("slave."+t.value);if(t.level===i)switch(t.kind){case"status":return u(t.value)}}),t.compassClick=function(){return s.slaveTransmit({level:i,kind:"arrowClick",angle:t.displayOrientation})},u=function(e){var n;return t.status.color=e,"undefined"!=typeof n&&null!==n&&r.cancel(n),n=r(function(){return t.status.color=void 0},1e3)},a.ondeviceorientation=function(e){return t.orientation=e.alpha,t.$apply()}}])}.call(this),function(){angular.module("App").controller("CompassController",["$rootScope","$scope","$state","$window","$timeout","$interval","SocketService","SweetAlert",function(e,t,n,a,r,l,s,o){"ngInject";var i,u,c,v;t.status={},i="compass",t.code="",t.start=function(){var e;return e={level:i,kind:"level",value:i},s.masterTransmit(e)},t.start(),t.angles=[45,225,135,315],t.correctAngles=0,v=0,u=22.5,e.$on("slaveIncoming",function(e,t){if("level"===t.kind)return void n.go("slave."+t.value);if(t.level===i)switch(t.kind){case"arrowClick":return c(t.angle)}}),t.$watch("code",function(e,n){var a,r;if(!(n.length>=e.length||0===e.length))return a="nsew",r="error",0===a.indexOf(t.code.toLowerCase())&&(r="success",t.code.toLowerCase()===a&&alert("succes")),s.masterTransmit({level:i,kind:"status",value:r})}),l(function(){return v++,v>=t.angles.length?v=0:void 0},2e3),t.arrowStyle=function(){return{transform:"rotate("+t.angles[v]+"deg)"}},c=function(e){var n;return n="error",console.log(t.angles[t.correctAngles]-u,t.angles[t.correctAngles]+u),e>t.angles[t.correctAngles]-u&&e<t.angles[t.correctAngles]+u?(n="success",t.correctAngles++,t.correctAngles>t.angles.length-1&&console.log("level done")):(n="error",t.correctAngles=0),s.masterTransmit({level:i,kind:"status",value:n})}}])}.call(this),function(){angular.module("App").service("SocketService",["$rootScope","socketUrl",function(e,t){"ngInject";return{socket:io.connect(t),initiate:function(){return this.socket.on("slaveIncoming",function(t){return console.log(t),e.$broadcast("slaveIncoming",t)}),this.socket.on("masterIncoming",function(t){return e.$broadcast("masterIncoming",t)}),this.unsubscribe("abc"),this.subscribe("abc")},subscribe:function(e){return this.room=e,this.socket.emit("subscribe",e)},unsubscribe:function(e){return this.room=e,this.socket.emit("unsubscribe",e)},slaveTransmit:function(e){return e.room=this.room,this.socket.emit("slaveTransmit",e)},masterTransmit:function(e){return e.room=this.room,this.socket.emit("masterTransmit",e)}}}])}.call(this),function(){angular.module("App").run(["$log","$rootScope","$state","$timeout","SocketService",function(e,t,n,a,r){"ngInject";return e.debug("runBlock end"),r.initiate(),t.levels=[{key:"haiku",name:"Haiku"},{key:"compass",name:"Compass"},{key:"winner",name:"Winner"}],t.currentLevel=0,t.nextLevel=function(){return t.currentLevel+=1,n.go("app."+t.levels[t.currentLevel].key)}}])}.call(this),function(){angular.module("App").config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";return e.state("slave",{"abstract":!0}).state("slave.compass",{url:"/slave/compass",views:{"@":{templateUrl:"app/compass/compass_slave.html",controller:"CompassSlaveController",controllerAs:"compass_slave"}}}).state("slave.haiku",{url:"/slave/haiku",views:{"@":{templateUrl:"app/haiku/haiku_slave.html",controller:"HaikuSlaveController",controllerAs:"haiku_slave"}}}).state("slave.numbers",{url:"/slave/numbers",views:{"@":{templateUrl:"app/numbers/numbers_slave.html",controller:"NumbersSlaveController",controllerAs:"numbers_slave"}}}).state("app",{"abstract":!0,views:{navigation:{controller:"NavigationController",templateUrl:"app/navigation/navigation.html"}}}).state("app.compass",{url:"/compass",views:{"@":{templateUrl:"app/compass/compass.html",controller:"CompassController",controllerAs:"compass"}}}).state("app.haiku",{url:"/haiku",views:{"@":{templateUrl:"app/haiku/haiku.html",controller:"HaikuController",controllerAs:"haiku"}}}).state("app.numbers",{url:"/numbers",views:{"@":{templateUrl:"app/numbers/numbers.html",controller:"NumbersController",controllerAs:"numbers"}}}),t.otherwise("/numbers")}])}.call(this),function(){angular.module("App").constant("socketUrl","http://83.84.36.136:8000/")}.call(this),function(){angular.module("App").config(["$logProvider",function(e){"ngInject";return e.debugEnabled(!0)}])}.call(this),angular.module("App").run(["$templateCache",function(e){e.put("app/compass/compass.html",'<div id="compass"><img src="assets/images/arrow.svg" data-ng-style="arrowStyle()" class="no-custom-orientation"><div class="colors"><div class="color-item" data-ng-class="status.color"></div></div><div data-keypad=""></div></div>'),e.put("app/compass/compass_slave.html",'<div id="compass-slave" data-ng-click="compassClick()"><img src="assets/images/arrow.svg" data-ng-style="arrowStyle()"><div class="colors"><div class="color-item" data-ng-class="status.color"></div></div></div>'),e.put("app/haiku/haiku.html",'<input data-ng-model="answer"> <button data-ng-click="checkAnswer()">Check</button>'),e.put("app/haiku/haiku_slave.html",'<div id="haiku-slave"><div class="colors"><div class="color-item" data-ng-class="status.color"></div></div></div>'),e.put("app/numbers/numbers.html",'<div id="numbers" data-ng-class="codeStatus"><div class="score"><span class="count">{{tilesSum}} / {{answerTotal.sum}}</span> <span class="count">{{tilesCount}} / {{answerTotal.count}}</span></div><div data-ng-show="correctTiles" data-password-input=""></div></div>'),e.put("app/numbers/numbers_slave.html",'<div id="numbers-slave" data-ng-click="compassClick()"><div class="number-item" data-ng-repeat="tile in tiles | orderBy:\'key\'" data-ng-click="tileClick(tile)" data-ng-class="{\'selected\': tile.selected}">{{tile.letter}}</div></div>'),e.put("app/components/keypad/keypad.html",'<div class="keypad"><div class="digit" data-ng-repeat="i in angles" data-ng-class="{\'success\': correctAngles > $index}"></div></div>'),e.put("app/components/password-input/password-input.html",'<div class="password-input"><input type="text" data-ng-model="userInputCode"></div>'),e.put("app/navigation/navigation.html","")}]);
//# sourceMappingURL=../maps/scripts/app-e0979f3756.js.map
